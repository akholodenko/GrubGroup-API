var citygrid_controller = function(response) {
	this.response = response;
	return this;
};

citygrid_controller.prototype.response = null;

citygrid_controller.prototype.get_sugguestion = function(input) {
	var citygrid = require(MODULE_PATH + "citygrid").createClient();
	citygrid.search({ what:"thai", lat: "37.77951", lon: "-122.39071", radius: "0.8", publisher: "10000005276", rpp: "50", format: "json", tag: "1722", sort: "highestrated"}, function (response) {
		console.log(JSON.parse(response));
	});

	// write headers
	this.response.writeHead(200, {"Content-Type": "application/json"});
	this.response.write('citygrid');
	this.response.end();
}

module.exports.createClient = function(response) {
	return new citygrid_controller(response);
};